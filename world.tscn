[gd_scene load_steps=9 format=3 uid="uid://dnocmu5ajx8p2"]

[ext_resource type="Script" uid="uid://c1r32ch2lw2d7" path="res://world.gd" id="1_dwbse"]
[ext_resource type="MeshLibrary" uid="uid://b8476lyi4gdyg" path="res://World/Assets/Tiles/DungeonTileSet/dungeon-tileset.tres" id="3_dwbse"]
[ext_resource type="PackedScene" uid="uid://du8paty5qi42" path="res://World/Assets/Characters/PlayerCharacter/playerCharacter.tscn" id="3_tlwt5"]
[ext_resource type="PackedScene" uid="uid://bbcikxjx5q0f3" path="res://World/Assets/Characters/Dummy/dummy.tscn" id="4_aqk2v"]
[ext_resource type="PackedScene" uid="uid://dwg5d55dymws2" path="res://World/Assets/Props/Torch/Torch.tscn" id="5_036b0"]
[ext_resource type="PackedScene" uid="uid://dp8c5l06i2yqy" path="res://World/Assets/Creatures/Rat/rats.glb" id="7_pkg7o"]

[sub_resource type="NavigationMesh" id="NavigationMesh_pkg7o"]
vertices = PackedVector3Array(-23.25, 0.5, -0.75, -23, 0.5, -0.75, -22.75, 0.5, -2, -22.75, 0.5, -3.75, -23, 0.5, -6.25, -23.25, 0.5, -6.75, -17, 0.5, -6.25, -15.75, 0.5, -6.5, -15.75, 0.5, -6.75, -20.5, 0.5, -6.5, -17, 0.5, -1.75, -15.75, 0.5, -2, -15.75, 0.5, -3.75, -17, 0.5, -4, -20.25, 0.5, -0.75, -17, 0.5, -0.75, -20.5, 0.5, -2, -20.25, 0.5, -4.25, -20.75, 0.5, -3.75, -12.5, 0.5, -6.25, -11.25, 0.5, -6.5, -11.25, 0.5, -6.75, -14.25, 0.5, -6.25, -14.25, 0.5, 0.25, -15.75, 0.5, 0.75, -15.75, 0.5, 2.5, -14.25, 0.5, 2.75, -12.5, 0.5, 2.75, -12.5, 0.5, 0.5, -14.25, 0.5, 4.75, -14.75, 0.5, 5.25, -12.25, 0.5, 5.25, -11.25, 0.5, 2.5, -11.25, 0.5, 0.75, -14.25, 0.5, -4.25, -12.5, 0.5, -4, -12.5, 0.5, -1.75, -11.25, 0.5, -2, -11.25, 0.5, -3.75, -14.25, 0.5, -1.75, -9.75, 0.5, -6.25, -8.25, 0.5, -6.75, -9.75, 0.5, -4.25, -7.75, 0.5, -2.25, -9.75, 0.5, 4.75, -10.25, 0.5, 5.25, -8, 0.5, 5.25, -9.75, 0.5, -1.75, -9.75, 0.5, 0.25, -8, 0.5, 1.25, -4, 0.5, 1, -4, 0.5, -2.5, -9.75, 0.5, 2.75, 2.25, 0.5, -2.75, 2.25, 0.5, -3.75, 0.75, 0.5, -4.25, -2.25, 0.5, -4.25, 4, 0.5, -1.25, 3.75, 0.5, -2.25, 2.75, 0.5, 0.75, 4, 0.5, 0.75, 1, 0.5, 2.5, -3.75, 0.5, 2.5, -2.25, 0.5, 2.75, 2.5, 0.5, 2.25, -3.75, 0.5, -3.75, 0.75, 0.5, -5.25, -2.25, 0.5, -5.25, -2.25, 0.5, 4, 1, 0.5, 3.75, -22.75, 0.5, 0.75, -23.25, 0.5, 5.25, -22.75, 0.5, 2.5, -17, 0.5, 0.5, -17, 0.5, 2.75, -20.75, 0.5, 0.75, -20.25, 0.5, 2.75, -22.75, 0.5, 5.25, -20.25, 0.5, 4.75, -16.75, 0.5, 5.25, -20.75, 0.5, 5.25)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(4, 0, 5), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(8, 9, 5), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(10, 15, 14), PackedInt32Array(5, 9, 4), PackedInt32Array(18, 17, 16), PackedInt32Array(16, 17, 14), PackedInt32Array(14, 17, 10), PackedInt32Array(10, 17, 13), PackedInt32Array(3, 18, 2), PackedInt32Array(2, 18, 16), PackedInt32Array(13, 17, 6), PackedInt32Array(6, 17, 9), PackedInt32Array(20, 19, 21), PackedInt32Array(21, 19, 22), PackedInt32Array(21, 22, 7), PackedInt32Array(21, 7, 8), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 23), PackedInt32Array(26, 23, 28), PackedInt32Array(26, 28, 27), PackedInt32Array(31, 30, 29), PackedInt32Array(32, 27, 33), PackedInt32Array(33, 27, 28), PackedInt32Array(22, 19, 34), PackedInt32Array(34, 19, 35), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 35), PackedInt32Array(26, 27, 29), PackedInt32Array(29, 27, 31), PackedInt32Array(11, 12, 39), PackedInt32Array(39, 12, 34), PackedInt32Array(39, 34, 35), PackedInt32Array(39, 35, 36), PackedInt32Array(39, 36, 23), PackedInt32Array(23, 36, 28), PackedInt32Array(20, 21, 40), PackedInt32Array(40, 21, 41), PackedInt32Array(40, 41, 42), PackedInt32Array(42, 41, 43), PackedInt32Array(46, 45, 44), PackedInt32Array(37, 38, 47), PackedInt32Array(47, 38, 42), PackedInt32Array(47, 42, 43), PackedInt32Array(47, 43, 48), PackedInt32Array(48, 43, 49), PackedInt32Array(49, 43, 50), PackedInt32Array(50, 43, 51), PackedInt32Array(32, 33, 52), PackedInt32Array(52, 33, 48), PackedInt32Array(52, 48, 49), PackedInt32Array(44, 52, 46), PackedInt32Array(46, 52, 49), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 56), PackedInt32Array(58, 57, 53), PackedInt32Array(53, 57, 59), PackedInt32Array(59, 57, 60), PackedInt32Array(59, 61, 53), PackedInt32Array(53, 61, 56), PackedInt32Array(56, 61, 51), PackedInt32Array(51, 61, 50), PackedInt32Array(62, 50, 63), PackedInt32Array(63, 50, 61), PackedInt32Array(59, 64, 61), PackedInt32Array(51, 65, 56), PackedInt32Array(56, 67, 55), PackedInt32Array(55, 67, 66), PackedInt32Array(61, 69, 63), PackedInt32Array(63, 69, 68), PackedInt32Array(1, 70, 0), PackedInt32Array(0, 70, 72), PackedInt32Array(0, 72, 71), PackedInt32Array(25, 74, 24), PackedInt32Array(24, 74, 73), PackedInt32Array(75, 14, 76), PackedInt32Array(76, 14, 73), PackedInt32Array(76, 73, 74), PackedInt32Array(72, 77, 71), PackedInt32Array(14, 15, 73), PackedInt32Array(76, 74, 78), PackedInt32Array(78, 74, 79), PackedInt32Array(70, 75, 72), PackedInt32Array(72, 75, 76), PackedInt32Array(79, 80, 78)]

[sub_resource type="GDScript" id="GDScript_ic0uy"]
script/source = "extends CSGBox3D
@onready var torch: Node3D = $\"../Torch\"


func interact():
		torch.get_group(\"lightFlame\")
		if torch.is_in_group(\"lightFlame\"):
				torch.hide()
"

[node name="Root" type="Node"]
script = ExtResource("1_dwbse")

[node name="Torch" parent="." instance=ExtResource("5_036b0")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -3.8769, 1.83072, 2.89185)

[node name="Torch2" parent="." instance=ExtResource("5_036b0")]
transform = Transform3D(-2, 0, -1.74846e-07, 0, 2, 0, 1.74846e-07, 0, -2, -3.8769, 1.83072, -4.38414)

[node name="Torch3" parent="." instance=ExtResource("5_036b0")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 2.3643, 1.83072, 2.89185)

[node name="Torch4" parent="." instance=ExtResource("5_036b0")]
transform = Transform3D(-2, 0, -1.74846e-07, 0, 2, 0, 1.74846e-07, 0, -2, 2.3643, 1.83072, -4.38414)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_pkg7o")

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0)
mesh_library = ExtResource("3_dwbse")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(65534, 2, 655361, 65535, 2, 655360, 0, 2, 1441793, 1, 1, 1441793, 0, 1, 1441795, 65535, 1, 1441794, 65534, 1, 655363, 65533, 1, 655361, 65534, 65535, 1048578, 65531, 65535, 655362, 65532, 65535, 655362, 65533, 65535, 1048578, 65534, 65533, 1048579, 65533, 65533, 1048577, 65534, 65532, 1048577, 65535, 65532, 0, 0, 65532, 1, 0, 65533, 3, 65535, 65533, 1441794, 0, 65534, 1048578, 1, 65534, 3, 1, 65533, 1, 2, 65534, 1, 65535, 65534, 1048578, 65534, 65534, 1048578, 65533, 65534, 1048579, 65532, 65534, 0, 65531, 65534, 0, 65535, 65535, 1048578, 0, 65535, 1048578, 1, 65535, 1441794, 2, 65535, 1441792, 2, 0, 1441793, 1, 0, 1441795, 0, 0, 1048578, 65535, 0, 1048578, 65534, 0, 1048578, 65533, 0, 655363, 65532, 0, 655360, 65531, 0, 655360, 65526, 1, 1441794, 65526, 0, 1441794, 65526, 2, 1441794, 65521, 3, 655360, 65521, 0, 1441794, 65520, 65533, 1048576, 65520, 65534, 1048576, 65520, 2, 1048576, 65520, 3, 655361, 65522, 1, 1441794, 65522, 65532, 1441794, 65520, 65532, 1048576, 65520, 65531, 1048577, 65522, 65531, 0, 65521, 65531, 0, 65521, 65532, 4, 65521, 65533, 1441794, 65521, 65534, 1441794, 65521, 65535, 4, 65520, 65535, 1048576, 65520, 0, 1048576, 65520, 1, 1048576, 65522, 3, 655360, 65522, 2, 1441794, 65521, 2, 4, 65521, 1, 1441794, 65522, 0, 1441794, 65522, 65535, 1441794, 65522, 65534, 1441794, 65522, 65533, 1441794, 65523, 65532, 1441794, 65523, 65531, 0, 65525, 65531, 0, 65523, 3, 655360, 65524, 65535, 1441794, 65524, 65534, 1441794, 65524, 65531, 0, 65524, 65532, 1441794, 65524, 65533, 1441794, 65523, 65533, 1441794, 65523, 65534, 1441794, 65523, 65535, 1441794, 65523, 0, 1441794, 65523, 1, 1441794, 65523, 2, 1441794, 65525, 3, 655360, 65525, 2, 4, 65525, 1, 1441794, 65525, 0, 1441794, 65526, 65535, 1441794, 65526, 65534, 1441794, 65526, 65533, 1441794, 65526, 65531, 0, 65526, 65532, 1441794, 65525, 65532, 4, 65525, 65533, 1441794, 65525, 65534, 1441794, 65525, 65535, 4, 65524, 0, 1441794, 65524, 1, 1441794, 65524, 2, 1441794, 65524, 3, 655360, 65528, 65533, 1441794, 65526, 3, 655360, 65528, 65534, 1441794, 65528, 65532, 4, 65528, 65531, 0, 65527, 65531, 0, 65527, 65532, 1441794, 65527, 65533, 1441794, 65527, 65534, 1441794, 65527, 65535, 1441794, 65527, 0, 1441794, 65527, 1, 1441794, 65527, 2, 1441794, 65527, 3, 655360, 65528, 3, 655360, 65528, 2, 4, 65528, 1, 1441794, 65528, 0, 1441794, 65528, 65535, 4, 65529, 65531, 0, 65529, 65532, 1441794, 65529, 65533, 1441794, 65529, 65534, 1441794, 65529, 65535, 1441794, 65529, 0, 1441794, 65529, 1, 1441794, 65529, 2, 1441794, 65529, 3, 655360, 65530, 3, 1441793, 65530, 2, 1441792, 65530, 1, 1441792, 65530, 0, 1441795, 65530, 65535, 2, 65530, 65534, 3, 65530, 65533, 1441792, 65530, 65532, 1441792, 65530, 65531, 1, 65517, 65533, 4)
}

[node name="rats" parent="." instance=ExtResource("7_pkg7o")]
transform = Transform3D(0.15, 0, 0, 0, 0.15, 0, 0, 0, 0.15, -7.03064, 0, -2.57651)

[node name="\'Button\'" type="CSGBox3D" parent="." groups=["Interactable"]]
transform = Transform3D(0.29749, 0, 0, 0, 0.498155, 0, 0, 0, 0.283635, -14.2373, 0.928378, -0.469077)
use_collision = true
script = SubResource("GDScript_ic0uy")

[node name="Player" parent="." instance=ExtResource("3_tlwt5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.94135, 0.518856, -0.650735)

[node name="Dummy" parent="." instance=ExtResource("4_aqk2v")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -10.7097, 1.13534, 1.48613)
player_path = NodePath("../Player")

[node name="Dummy2" parent="." instance=ExtResource("4_aqk2v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.5245, 1.62708, -3.65758)
player_path = NodePath("../Player")

[node name="Dummy3" parent="." instance=ExtResource("4_aqk2v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.93649, 1.62708, -3.62376)
player_path = NodePath("../Player")

[node name="Dummy4" parent="." instance=ExtResource("4_aqk2v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.69444, 1.62708, 1.192)
player_path = NodePath("../Player")

[node name="Dummy5" parent="." instance=ExtResource("4_aqk2v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.42506, 1.62708, -1.04231)
player_path = NodePath("../Player")
